# Product Requirements Document: Fuel Bill Generator

## Introduction/Overview

The Fuel Bill Generator is a web application that automates the creation and download of fuel bills from https://freeforonline.com/fuel-bills/index.html. The app allows users to generate multiple fuel bills with customizable parameters, where some inputs are user-controlled and others are randomly generated by the system. This tool is designed for end users who need to create multiple fuel bills quickly with realistic, varied data while maintaining control over key parameters like total amount, fuel rate, and station details.

**Problem it solves:** Manually creating multiple fuel bills is time-consuming and repetitive. This app streamlines the process by allowing batch generation with smart random distribution of amounts and dates.

## Goals

1. Enable users to generate multiple fuel bills in a single operation
2. Provide control over critical parameters (fuel rate, station name, total amount, bill count)
3. Automatically distribute the total amount across multiple bills intelligently
4. Generate realistic, varied bill data (dates, times) within user-specified constraints
5. Deliver downloadable PDF bills using professional templates from freeforonline.com
6. Provide a simple, intuitive form-based interface requiring minimal user input

## User Stories

1. **As an end user**, I want to specify a total amount and number of bills, so that the system can automatically distribute the amount across multiple bills without me having to calculate individual amounts.

2. **As an end user**, I want to set a maximum amount per bill, so that no single bill exceeds a realistic or desired threshold.

3. **As an end user**, I want to specify a date range for bill generation, so that the bills appear to be from different days within a realistic timeframe.

4. **As an end user**, I want to choose from 3 different bill templates, so that I can select the format that best suits my needs.

5. **As an end user**, I want to download all generated bills as PDFs, so that I have professional-looking documents ready to use.

6. **As an end user**, I want the system to handle random data generation (dates, times), so that each bill looks unique and realistic.

## Functional Requirements

### User Input Fields

1. **FR-1:** The system must provide an input field for "Fuel Rate" (price per liter/gallon).

2. **FR-2:** The system must provide an input field for "Fuel Station Name" (text input).

3. **FR-3:** The system must provide a template selector with 3 options corresponding to the templates available on freeforonline.com/fuel-bills.

4. **FR-4:** The system must provide an input field for "Total Amount" representing the sum of all bills to be generated.

5. **FR-5:** The system must provide an input field for "Number of Bills to Generate" (integer).

6. **FR-6:** The system must provide an input field for "Maximum Amount Per Bill" to constrain individual bill amounts.

7. **FR-7:** The system must provide date range inputs (Start Date and End Date) to define the period within which bill dates should be randomly generated.

8. **FR-8:** The system must automatically set "Payment Mode" to "Online" for all generated bills.

9. **FR-9:** The system must automatically select "None" for GST IN, CST IIN, and TX NO fields (no tax identification numbers required).

### Bill Generation Logic

10. **FR-10:** The system must randomly distribute the total amount across the specified number of bills such that:
    - The sum of all bill amounts equals the user-specified total amount
    - No individual bill exceeds the maximum amount per bill
    - Each bill has a positive, non-zero amount

11. **FR-11:** The system must generate a random date for each bill within the user-specified date range.

12. **FR-12:** The system must generate a random time for each bill (in realistic business hours, e.g., 6:00 AM - 10:00 PM).

13. **FR-13:** The system must leave the "Vehicle Number" field blank for all generated bills.

### Bill Generation & Download

15. **FR-15:** The system must interact with https://freeforonline.com/fuel-bills/index.html to generate bills using the selected template.

16. **FR-16:** The system must populate each bill with the appropriate user inputs and system-generated random data.

17. **FR-17:** The system must download each generated bill as a PDF file.

18. **FR-18:** The system must provide clear naming for downloaded PDFs (e.g., `fuel-bill-1.pdf`, `fuel-bill-2.pdf`, or include date/station name).

19. **FR-19:** The system must provide feedback to the user during the generation process (e.g., "Generating bill 3 of 10...").

20. **FR-20:** The system must handle the complete workflow: input validation → amount distribution → bill generation → PDF download for all bills.

### Validation

21. **FR-21:** The system must validate that the total amount is greater than zero.

22. **FR-22:** The system must validate that the number of bills is a positive integer.

23. **FR-23:** The system must validate that the maximum amount per bill allows for the total amount to be distributed across the specified number of bills (i.e., `Max Amount Per Bill × Number of Bills ≥ Total Amount`).

24. **FR-24:** The system must validate that the end date is not before the start date.

25. **FR-25:** The system must validate that the fuel rate is a positive number.

26. **FR-26:** The system must display clear error messages for any validation failures.

## Non-Goals (Out of Scope)

1. **NG-1:** The app will NOT support editing individual bill amounts after distribution (users must regenerate if unhappy with distribution).

2. **NG-2:** The app will NOT save or store user data, bill history, or previous inputs (each session is independent).

3. **NG-3:** The app will NOT support custom bill templates beyond the 3 available on freeforonline.com.

4. **NG-4:** The app will NOT support payment modes other than "Online".

5. **NG-5:** The app will NOT include GST IN, CST IIN, or TX NO fields (always set to "None").

6. **NG-6:** The app will NOT support vehicle number input (always blank).

7. **NG-7:** The app will NOT provide preview functionality before download (bills are generated and downloaded directly).

8. **NG-8:** The app will NOT support batch download as a single ZIP file (each PDF downloads individually).

9. **NG-9:** The app will NOT include user authentication or multi-user support.

## Design Considerations

### User Interface

- **Simple Form Layout:** A single-page form with clearly labeled input fields organized in logical sections:
  - **Section 1:** Fuel Station Details (Station Name, Fuel Rate)
  - **Section 2:** Bill Generation Settings (Template, Total Amount, Number of Bills, Max Amount Per Bill)
  - **Section 3:** Date Range (Start Date, End Date)
  - **Section 4:** Generate Button

- **Visual Feedback:** Progress indicator showing bill generation status (e.g., "Generating bill 5 of 10...").

- **Responsive Design:** Form should be usable on desktop and tablet devices (mobile optimization is a nice-to-have but not required).

- **Clean, Professional Aesthetic:** Simple, modern design that inspires confidence in the generated bills.

### User Experience

- **Clear Labels:** All input fields should have descriptive labels and placeholder text where helpful.

- **Helpful Tooltips:** Consider adding tooltips or help text for fields like "Max Amount Per Bill" to explain their purpose.

- **Error Handling:** Display validation errors inline near the relevant input fields.

- **Success Confirmation:** Show a success message when all bills have been generated and downloaded.

## Technical Considerations

### Integration with freeforonline.com

1. **Web Automation:** The app will need to automate interaction with https://freeforonline.com/fuel-bills/index.html. This could be achieved using:
   - Browser automation (e.g., Puppeteer, Playwright, Selenium)
   - Headless browser to fill forms and trigger downloads

2. **Template Selection:** The system must be able to programmatically select between the 3 available templates on the website.

3. **Form Population:** The system must accurately map user inputs and generated data to the correct form fields on the freeforonline.com website.

4. **PDF Download Handling:** The system must handle PDF downloads from the external website, potentially managing multiple concurrent downloads.

### Technology Stack Suggestions

- **Frontend:** HTML, CSS, JavaScript (vanilla or lightweight framework like React/Vue for better state management)
- **Backend:** Node.js with Express (to handle browser automation and PDF generation)
- **Automation Library:** Puppeteer or Playwright for browser automation
- **Hosting:** Can be deployed as a simple web app (e.g., on Vercel, Netlify, or a VPS)

### Random Distribution Algorithm

- The amount distribution algorithm should ensure:
  - Fair randomization (not always equal distribution)
  - Respect for the max amount constraint
  - Exact sum matching (no rounding errors)
  - Realistic variation between bills

### Performance Considerations

- Generating multiple bills sequentially may take time; consider:
  - Showing progress updates to keep user informed
  - Implementing reasonable limits on number of bills (e.g., max 50 bills per generation)
  - Handling timeouts gracefully if the external website is slow

## Success Metrics

1. **Functionality:** 100% of generated bills correctly sum to the specified total amount.

2. **Accuracy:** All bills are generated with the correct template, fuel rate, station name, and within the specified date range.

3. **Reliability:** 95%+ success rate in generating and downloading PDFs without errors.

4. **User Satisfaction:** Users can generate a batch of 10 bills in under 2 minutes (including download time).

5. **Validation:** Zero instances of invalid data being submitted to the bill generator (all validation catches errors before submission).

## Open Questions

1. **Q1:** Should there be a limit on the maximum number of bills that can be generated in a single batch? (Suggested: 50 bills to prevent performance issues)

2. **Q2:** How should the app handle failures from the external website (freeforonline.com)? Should it retry, skip, or abort the entire batch?

3. **Q3:** Should downloaded PDFs be named with a specific pattern? (e.g., `FuelBill_StationName_Date_001.pdf` vs. simple sequential numbering)

4. **Q4:** Should the date range be inclusive or exclusive of the end date?

5. **Q5:** What time zone should be used for date/time generation? (Suggested: user's local time zone)

6. **Q6:** Should there be any constraints on the minimum amount per bill to avoid unrealistically small transactions?

7. **Q7:** If the external website structure changes, how should the app handle this gracefully? (Consider error messaging and maintenance plan)

---

**Document Version:** 1.0  
**Created:** 2026-02-08  
**Status:** Draft - Awaiting Review
